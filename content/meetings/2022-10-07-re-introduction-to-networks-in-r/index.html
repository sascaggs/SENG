---
title: (Re)Introduction to Networks in R
author: Harrison Fried
date: '2022-10-07'
slug: re-introduction-to-networks-in-r
categories:
  - general
  - methods
tags:
  - analysis
  - coding
  - igraph
  - statnet
  - Rstudio
toc: yes
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">

</div>

<p>In this meeting, we cover the basics of working with networks in R. By the end of the workshop, you will be acquainted with three packages – <code>igraph</code>, <code>statnet</code>, and <code>tidygraph</code> – and you will be able to create a network from scratch, turn it into a network object, create vertex and edge attributes, and genereate a basic visualization. Let’s get started.</p>
<div id="r-markdown-introduction" class="section level1">
<h1>R Markdown Introduction</h1>
<p>Before we begin talking about networks, let’s first talk about the R studio environment. Most R code can be successfully run using classic <code>.r</code> files.</p>
<p>Sometimes, it makes more sense to present information and structure R code using R Markdown <code>.rmd</code>, which is what this type of file is.</p>
<p>R Markdown contains the same capabilities as classic <code>.r</code> files, but has the added ability to insert text (and equations!) that can be knit into a clean-appearing .html or .pdf file for presentations or write-ups. You also have the ability to hide or show chunks of code in the “knit” file. Therefore, R markdown provides a nice format for embedding R output within a research paper (such as by only including R plots within text). Or, R markdown is great to write tutorials or show coding logic, by showing R code within text.</p>
<p>It’s easy to add headers (use #’s).</p>
</div>
<div id="example-header-a" class="section level1">
<h1>Example Header A</h1>
<div id="example-subheader-b" class="section level2">
<h2>Example Subheader B</h2>
<div id="example-tertiary-header-c" class="section level3">
<h3>Example Tertiary Header C</h3>
<p>Then, it’s easy to embed R code “chunks”, which always follow this basic format:</p>
<pre class="r"><code>a &lt;- 1+1
a</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Now that we’ve discussed R markdown basics, let’s talk about network data.</p>
</div>
</div>
</div>
<div id="data-structures" class="section level1">
<h1>Data Structures</h1>
<p>Before we dive into network objects, let’s understand the data structures that are used to represent relational data. We will focus on <strong>matrices</strong> and <strong>edgelists</strong>, as these are among the most common structures used for network data.</p>
</div>
<div id="adjacency-matrix" class="section level1">
<h1>Adjacency matrix</h1>
<div id="adjacency-matrix-using-toy-data" class="section level2">
<h2>Adjacency matrix: using toy data</h2>
<pre><code>## [1] &quot;i&quot; &quot;j&quot; &quot;k&quot;</code></pre>
<pre><code>##   i j k
## i 0 0 0
## j 0 0 0
## k 0 0 0</code></pre>
<p>One way to represent a network is using a square matrix where every node in the network has its own row and column. To do this, let’s create a vector of three nodes <code>i</code>, <code>j</code>, and <code>k</code>.</p>
<p>Every cell in the matrix <code>M</code> represents a relationship between the two nodes – these are the network edges. A value of <code>0</code> means that no edge is present. So in this matrix, there aren’t any edges. But let’s add an edge from <code>i</code> to <code>j</code> and from <code>i</code> to <code>k</code>.</p>
<pre class="r"><code>M[1,2] &lt;- 1
M[1,3] &lt;- 1
M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 0 0
## k 0 0 0</code></pre>
<p>This is the conventional way of representing <strong>directed</strong> edges between nodes. We can represent a reciprocal edge from <code>k</code> to <code>i</code> as well. In an <strong>undirected</strong> network, this information is redundant.</p>
<pre class="r"><code>M[3,1] &lt;- 1
M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 0 0
## k 1 0 0</code></pre>
<p>Cells along the diagonal are known as loops. For example, we can set an edge from <code>j</code> to <code>j</code> along the diagonal.</p>
<pre class="r"><code>M[2,2] &lt;- 1
M[&quot;j&quot;,&quot;j&quot;] &lt;- 1 #Same
M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 1 0
## k 1 0 0</code></pre>
<p>You can always extract the diagonal using <code>diag()</code>. This is also a handy way to set the diagonal to <code>0</code> if your network does not contain loops.</p>
<pre class="r"><code>diag(M) &lt;- 0
class(M)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<pre class="r"><code>M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 0 0
## k 1 0 0</code></pre>
</div>
<div id="adjacency-matrix-using-simulated-data-bernoulli" class="section level2">
<h2>Adjacency matrix: using simulated data (bernoulli)</h2>
<p>In our example matrix above there were <code>3</code> nodes and a matrix with <code>9</code> possible edges. These means that for <span class="math inline">\(N\)</span> nodes, there are <span class="math inline">\(N^2\)</span> possible edges. We can use this information to simulate a random network.</p>
<pre class="r"><code>set.seed(777)
# How many nodes? 
N &lt;- 7 

# How many edges? 
N_edges &lt;- N^2

# Use bernoulli distribution (i.e., rbinom(size=1)) to simulate edges (coin flip)
simM &lt;- matrix(rbinom(N_edges, 
                   size=1,
                   prob=0.5),
            nrow = N)
# No loops
diag(simM) &lt;- 0
simM</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## [1,]    0    0    1    1    1    0    1
## [2,]    0    0    0    1    1    1    0
## [3,]    0    0    0    0    1    0    0
## [4,]    1    1    1    0    1    1    1
## [5,]    1    1    0    1    0    1    1
## [6,]    0    1    0    0    0    0    1
## [7,]    0    1    0    1    0    0    0</code></pre>
</div>
<div id="adjacency-matrix-using-real-data" class="section level2">
<h2>Adjacency matrix: using real data</h2>
<p>Let’s take a look at a sample data-set of 19 environmental issues, and their connections to each other - let’s check what this looks like in excel.</p>
<p>First, let’s set our working directory so that R knows where to find our file, and where to save output to.</p>
<pre class="r"><code>issuenet &lt;- read.csv(&quot;IssueIssue_Data.csv&quot;, header=T)
class(issuenet)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Now, let’s inspect the data as it is, and ensure it’s a matrix.</p>
<pre class="r"><code>dim(issuenet) #19 rows, 19 columns! A square.</code></pre>
<pre><code>## [1] 19 19</code></pre>
<pre class="r"><code>class(issuenet)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code>issuenet &lt;- as.matrix(issuenet) 
head(issuenet)</code></pre>
<pre><code>##      ï..AirQuality Forests GreenInfrast HabitatLoss Health Invasives LandUse
## [1,]            NA   0.500        0.216       0.433  0.950     0.167   0.475
## [2,]         0.650      NA        0.183       0.783  0.850     0.700   0.467
## [3,]         0.400   0.233           NA       0.483  0.767     0.400   0.350
## [4,]         0.633   0.908        0.375          NA  0.767     0.833   0.425
## [5,]         0.233   0.217        0.142       0.183     NA     0.050   0.383
## [6,]         0.133   0.950        0.467       0.883  0.383        NA   0.483
##      Nutrients Pests.Path Recreation RestorNatSyst RisingTemps SoilErosion
## [1,]     0.166      0.400      0.533         0.150       0.600       0.200
## [2,]     0.650      0.750      0.950         0.583       0.550       0.808
## [3,]     0.642      0.267      0.658         0.467       0.258       0.692
## [4,]     0.483      0.325      0.933         0.717       0.342       0.750
## [5,]     0.092      0.233      0.625         0.200       0.167       0.150
## [6,]     0.550      0.842      0.883         0.817       0.117       0.575
##      StormWater Transportation TreeManagement VulnerableComms WarmSeason
## [1,]      0.133          0.383          0.375           0.816      0.250
## [2,]      0.817          0.300          0.367           0.417      0.675
## [3,]      0.892          0.517          0.692           0.533      0.408
## [4,]      0.700          0.300          0.500           0.583      0.425
## [5,]      0.133          0.492          0.208           0.500      0.183
## [6,]      0.667          0.475          0.733           0.300      0.283
##      WaterQuality
## [1,]        0.316
## [2,]        0.850
## [3,]        0.825
## [4,]        0.717
## [5,]        0.267
## [6,]        0.617</code></pre>
<pre class="r"><code>tail(issuenet)</code></pre>
<pre><code>##       ï..AirQuality Forests GreenInfrast HabitatLoss Health Invasives LandUse
## [14,]         0.117   0.650        0.792       0.667  0.817     0.733   0.633
## [15,]         0.950   0.583        0.533       0.800  0.792     0.700   0.917
## [16,]         0.650   0.542        0.742       0.800  0.900     0.933   0.583
## [17,]         0.267   0.467        0.192       0.350  0.867     0.350   0.342
## [18,]         0.700   0.833        0.692       0.817  0.900     0.825   0.675
## [19,]         0.083   0.217        0.358       0.758  1.000     0.567   0.517
##       Nutrients Pests.Path Recreation RestorNatSyst RisingTemps SoilErosion
## [14,]     0.792      0.425      0.733         0.600       0.100       0.975
## [15,]     0.258      0.600      0.583         0.583       0.642       0.600
## [16,]     0.367      0.817      0.883         0.667       0.558       0.658
## [17,]     0.517      0.433      0.250         0.383       0.150       0.483
## [18,]     0.842      0.950      0.850         0.525       0.633       0.867
## [19,]     0.483      0.550      0.600         0.600       0.017       0.300
##       StormWater Transportation TreeManagement VulnerableComms WarmSeason
## [14,]         NA          0.592          0.733           0.750      0.133
## [15,]      0.742             NA          0.692           0.750      0.633
## [16,]      0.833          0.400             NA           0.758      0.542
## [17,]      0.500          0.483          0.575              NA      0.233
## [18,]      0.833          0.658          0.867           0.883         NA
## [19,]      0.300          0.233          0.000           0.783      0.050
##       WaterQuality
## [14,]        0.933
## [15,]        0.642
## [16,]        0.767
## [17,]        0.467
## [18,]        0.867
## [19,]           NA</code></pre>
<p>There aren’t row names, currently. Let’s fix that.</p>
<pre class="r"><code>rownames(issuenet) &lt;- colnames(issuenet) #Add row names
head(issuenet)</code></pre>
<pre><code>##               ï..AirQuality Forests GreenInfrast HabitatLoss Health Invasives
## ï..AirQuality            NA   0.500        0.216       0.433  0.950     0.167
## Forests               0.650      NA        0.183       0.783  0.850     0.700
## GreenInfrast          0.400   0.233           NA       0.483  0.767     0.400
## HabitatLoss           0.633   0.908        0.375          NA  0.767     0.833
## Health                0.233   0.217        0.142       0.183     NA     0.050
## Invasives             0.133   0.950        0.467       0.883  0.383        NA
##               LandUse Nutrients Pests.Path Recreation RestorNatSyst RisingTemps
## ï..AirQuality   0.475     0.166      0.400      0.533         0.150       0.600
## Forests         0.467     0.650      0.750      0.950         0.583       0.550
## GreenInfrast    0.350     0.642      0.267      0.658         0.467       0.258
## HabitatLoss     0.425     0.483      0.325      0.933         0.717       0.342
## Health          0.383     0.092      0.233      0.625         0.200       0.167
## Invasives       0.483     0.550      0.842      0.883         0.817       0.117
##               SoilErosion StormWater Transportation TreeManagement
## ï..AirQuality       0.200      0.133          0.383          0.375
## Forests             0.808      0.817          0.300          0.367
## GreenInfrast        0.692      0.892          0.517          0.692
## HabitatLoss         0.750      0.700          0.300          0.500
## Health              0.150      0.133          0.492          0.208
## Invasives           0.575      0.667          0.475          0.733
##               VulnerableComms WarmSeason WaterQuality
## ï..AirQuality           0.816      0.250        0.316
## Forests                 0.417      0.675        0.850
## GreenInfrast            0.533      0.408        0.825
## HabitatLoss             0.583      0.425        0.717
## Health                  0.500      0.183        0.267
## Invasives               0.300      0.283        0.617</code></pre>
<p>Let’s now add an “i_” to the beginning of each of our issue nodes. This will help us differentiate issue nodes from other node types later on.</p>
<pre class="r"><code>colnames(issuenet) &lt;- rownames(issuenet) &lt;- paste0(&quot;i_&quot;, colnames(issuenet))
head(issuenet)</code></pre>
<pre><code>##                 i_ï..AirQuality i_Forests i_GreenInfrast i_HabitatLoss i_Health
## i_ï..AirQuality              NA     0.500          0.216         0.433    0.950
## i_Forests                 0.650        NA          0.183         0.783    0.850
## i_GreenInfrast            0.400     0.233             NA         0.483    0.767
## i_HabitatLoss             0.633     0.908          0.375            NA    0.767
## i_Health                  0.233     0.217          0.142         0.183       NA
## i_Invasives               0.133     0.950          0.467         0.883    0.383
##                 i_Invasives i_LandUse i_Nutrients i_Pests.Path i_Recreation
## i_ï..AirQuality       0.167     0.475       0.166        0.400        0.533
## i_Forests             0.700     0.467       0.650        0.750        0.950
## i_GreenInfrast        0.400     0.350       0.642        0.267        0.658
## i_HabitatLoss         0.833     0.425       0.483        0.325        0.933
## i_Health              0.050     0.383       0.092        0.233        0.625
## i_Invasives              NA     0.483       0.550        0.842        0.883
##                 i_RestorNatSyst i_RisingTemps i_SoilErosion i_StormWater
## i_ï..AirQuality           0.150         0.600         0.200        0.133
## i_Forests                 0.583         0.550         0.808        0.817
## i_GreenInfrast            0.467         0.258         0.692        0.892
## i_HabitatLoss             0.717         0.342         0.750        0.700
## i_Health                  0.200         0.167         0.150        0.133
## i_Invasives               0.817         0.117         0.575        0.667
##                 i_Transportation i_TreeManagement i_VulnerableComms
## i_ï..AirQuality            0.383            0.375             0.816
## i_Forests                  0.300            0.367             0.417
## i_GreenInfrast             0.517            0.692             0.533
## i_HabitatLoss              0.300            0.500             0.583
## i_Health                   0.492            0.208             0.500
## i_Invasives                0.475            0.733             0.300
##                 i_WarmSeason i_WaterQuality
## i_ï..AirQuality        0.250          0.316
## i_Forests              0.675          0.850
## i_GreenInfrast         0.408          0.825
## i_HabitatLoss          0.425          0.717
## i_Health               0.183          0.267
## i_Invasives            0.283          0.617</code></pre>
<p>Now let’s make sure that the diagonal values aren’t NA.</p>
<pre class="r"><code>diag(issuenet) &lt;- 0
issuenet</code></pre>
<pre><code>##                   i_ï..AirQuality i_Forests i_GreenInfrast i_HabitatLoss
## i_ï..AirQuality             0.000     0.500          0.216         0.433
## i_Forests                   0.650     0.000          0.183         0.783
## i_GreenInfrast              0.400     0.233          0.000         0.483
## i_HabitatLoss               0.633     0.908          0.375         0.000
## i_Health                    0.233     0.217          0.142         0.183
## i_Invasives                 0.133     0.950          0.467         0.883
## i_LandUse                   0.650     0.900          0.475         0.925
## i_Nutrients                 0.217     0.358          0.483         0.590
## i_Pests.Path                0.250     0.883          0.267         0.883
## i_Recreation                0.733     0.850          0.458         0.833
## i_RestorNatSyst             0.325     0.683          0.617         0.750
## i_RisingTemps               0.583     0.650          0.325         0.633
## i_SoilErosion               0.675     0.625          0.608         0.650
## i_StormWater                0.117     0.650          0.792         0.667
## i_Transportation            0.950     0.583          0.533         0.800
## i_TreeManagement            0.650     0.542          0.742         0.800
## i_VulnerableComms           0.267     0.467          0.192         0.350
## i_WarmSeason                0.700     0.833          0.692         0.817
## i_WaterQuality              0.083     0.217          0.358         0.758
##                   i_Health i_Invasives i_LandUse i_Nutrients i_Pests.Path
## i_ï..AirQuality      0.950       0.167     0.475       0.166        0.400
## i_Forests            0.850       0.700     0.467       0.650        0.750
## i_GreenInfrast       0.767       0.400     0.350       0.642        0.267
## i_HabitatLoss        0.767       0.833     0.425       0.483        0.325
## i_Health             0.000       0.050     0.383       0.092        0.233
## i_Invasives          0.383       0.000     0.483       0.550        0.842
## i_LandUse            0.750       0.808     0.000       0.667        0.583
## i_Nutrients          0.783       0.450     0.450       0.000        0.458
## i_Pests.Path         0.833       0.658     0.483       0.427        0.000
## i_Recreation         0.867       0.808     0.725       0.542        0.767
## i_RestorNatSyst      0.708       0.817     0.842       0.600        0.750
## i_RisingTemps        0.700       0.650     0.350       0.490        0.800
## i_SoilErosion        0.583       0.783     0.592       0.825        0.425
## i_StormWater         0.817       0.733     0.633       0.792        0.425
## i_Transportation     0.792       0.700     0.917       0.258        0.600
## i_TreeManagement     0.900       0.933     0.583       0.367        0.817
## i_VulnerableComms    0.867       0.350     0.342       0.517        0.433
## i_WarmSeason         0.900       0.825     0.675       0.842        0.950
## i_WaterQuality       1.000       0.567     0.517       0.483        0.550
##                   i_Recreation i_RestorNatSyst i_RisingTemps i_SoilErosion
## i_ï..AirQuality          0.533           0.150         0.600         0.200
## i_Forests                0.950           0.583         0.550         0.808
## i_GreenInfrast           0.658           0.467         0.258         0.692
## i_HabitatLoss            0.933           0.717         0.342         0.750
## i_Health                 0.625           0.200         0.167         0.150
## i_Invasives              0.883           0.817         0.117         0.575
## i_LandUse                0.767           0.683         0.533         0.867
## i_Nutrients              0.658           0.533         0.210         0.667
## i_Pests.Path             0.817           0.567         0.300         0.342
## i_Recreation             0.000           0.800         0.267         0.683
## i_RestorNatSyst          0.683           0.000         0.342         0.792
## i_RisingTemps            0.508           0.300         0.000         0.333
## i_SoilErosion            0.533           0.567         0.258         0.000
## i_StormWater             0.733           0.600         0.100         0.975
## i_Transportation         0.583           0.583         0.642         0.600
## i_TreeManagement         0.883           0.667         0.558         0.658
## i_VulnerableComms        0.250           0.383         0.150         0.483
## i_WarmSeason             0.850           0.525         0.633         0.867
## i_WaterQuality           0.600           0.600         0.017         0.300
##                   i_StormWater i_Transportation i_TreeManagement
## i_ï..AirQuality          0.133            0.383            0.375
## i_Forests                0.817            0.300            0.367
## i_GreenInfrast           0.892            0.517            0.692
## i_HabitatLoss            0.700            0.300            0.500
## i_Health                 0.133            0.492            0.208
## i_Invasives              0.667            0.475            0.733
## i_LandUse                0.917            0.867            0.800
## i_Nutrients              0.533            0.217            0.400
## i_Pests.Path             0.275            0.317            0.933
## i_Recreation             0.850            0.542            0.883
## i_RestorNatSyst          0.833            0.350            0.733
## i_RisingTemps            0.583            0.217            0.683
## i_SoilErosion            0.908            0.542            0.567
## i_StormWater             0.000            0.592            0.733
## i_Transportation         0.742            0.000            0.692
## i_TreeManagement         0.833            0.400            0.000
## i_VulnerableComms        0.500            0.483            0.575
## i_WarmSeason             0.833            0.658            0.867
## i_WaterQuality           0.300            0.233            0.000
##                   i_VulnerableComms i_WarmSeason i_WaterQuality
## i_ï..AirQuality               0.816        0.250          0.316
## i_Forests                     0.417        0.675          0.850
## i_GreenInfrast                0.533        0.408          0.825
## i_HabitatLoss                 0.583        0.425          0.717
## i_Health                      0.500        0.183          0.267
## i_Invasives                   0.300        0.283          0.617
## i_LandUse                     0.783        0.500          0.933
## i_Nutrients                   0.675        0.250          0.950
## i_Pests.Path                  0.717        0.083          0.750
## i_Recreation                  0.617        0.383          0.833
## i_RestorNatSyst               0.542        0.558          0.917
## i_RisingTemps                 0.733        0.900          0.583
## i_SoilErosion                 0.733        0.279          0.967
## i_StormWater                  0.750        0.133          0.933
## i_Transportation              0.750        0.633          0.642
## i_TreeManagement              0.758        0.542          0.767
## i_VulnerableComms             0.000        0.233          0.467
## i_WarmSeason                  0.883        0.000          0.867
## i_WaterQuality                0.783        0.050          0.000</code></pre>
<pre class="r"><code>#View(issuenet) #Can&#39;t run View() in R markdown knit</code></pre>
<p>#Edgelist
## The Edgelist: Using toy data</p>
<p>An <strong>edgelist</strong> is a more compact way to store network data. This is because it does not include the <code>0</code>s in that are shown in the matrix. Instead an edgelist only contains rows for each of the edges that are present in the network. This may seem trivial for a small network of 3 nodes, but when you work with a large network with hundreds or thousands of rows, eliminating all of those zeros is very convenient.</p>
<p>To construct an edgelist, stack rows on top of one another using the <code>rbind</code> function.</p>
<pre class="r"><code>E &lt;- rbind(c(&#39;i&#39;,&#39;k&#39;),
           c(&#39;j&#39;,&#39;j&#39;),
           c(&#39;k&#39;,&#39;i&#39;))
class(E)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<pre class="r"><code>colnames(E) &lt;- c(&#39;Sender&#39;,&#39;Receiver&#39;)
E</code></pre>
<pre><code>##      Sender Receiver
## [1,] &quot;i&quot;    &quot;k&quot;     
## [2,] &quot;j&quot;    &quot;j&quot;     
## [3,] &quot;k&quot;    &quot;i&quot;</code></pre>
<pre class="r"><code>class(E)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>You can think of the first column as a <em>sender</em> column. The second column is a <em>receiver</em> column. This is how directionality is represented in the edge list.</p>
<p>If you want to add edges to an edgelist, simply bind a new row to the current edgelist.</p>
<pre class="r"><code>E &lt;- rbind(E, c(&#39;i&#39;,&#39;j&#39;))
E</code></pre>
<pre><code>##      Sender Receiver
## [1,] &quot;i&quot;    &quot;k&quot;     
## [2,] &quot;j&quot;    &quot;j&quot;     
## [3,] &quot;k&quot;    &quot;i&quot;     
## [4,] &quot;i&quot;    &quot;j&quot;</code></pre>
<p>Use the same bracket <code>[]</code> notation to index, such as here, where we delete the fourth row.</p>
<pre class="r"><code>E &lt;- E[-4,] 
E</code></pre>
<pre><code>##      Sender Receiver
## [1,] &quot;i&quot;    &quot;k&quot;     
## [2,] &quot;j&quot;    &quot;j&quot;     
## [3,] &quot;k&quot;    &quot;i&quot;</code></pre>
</div>
<div id="but-why" class="section level2">
<h2>But Why?</h2>
<p>You might be wondering… why do we need to know these details about data structure? Here are two reasons.</p>
<p>First, whether you collect your own network data or receive data from someone else, you’ll need to store/wrangle the data into one of these formats. When you collect your own data, you can store it in this format right away. But if you receive a network you did not collect, knowing these data structures will help you understand what you are looking at.</p>
<p>Second, understand data structure opens the door to simulation. Put differently, you don’t need to collect data to begin learning about and visualizing networks. You can simulate synthetic data. Here is a brief example.</p>
</div>
<div id="edgelist-using-simulated-data-bernouli-graph-simulation" class="section level2">
<h2>Edgelist: Using simulated data (bernouli graph simulation)</h2>
<p>We can use a similar procedure to simulate an edgelist. We just need to create a third column to simulate the edges, then filter out the zeros.</p>
<pre class="r"><code>set.seed(777)
N &lt;- letters[1:5]
#or
N &lt;- c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;)
simE &lt;- expand.grid(N,N)
# ?expand.grid #help on this function.
simE</code></pre>
<pre><code>##    Var1 Var2
## 1     a    a
## 2     b    a
## 3     c    a
## 4     d    a
## 5     e    a
## 6     a    b
## 7     b    b
## 8     c    b
## 9     d    b
## 10    e    b
## 11    a    c
## 12    b    c
## 13    c    c
## 14    d    c
## 15    e    c
## 16    a    d
## 17    b    d
## 18    c    d
## 19    d    d
## 20    e    d
## 21    a    e
## 22    b    e
## 23    c    e
## 24    d    e
## 25    e    e</code></pre>
<pre class="r"><code>simE$Edge &lt;- rbinom(nrow(simE), 
                 size = 1, 
                 prob = 0.5)
dim(simE)</code></pre>
<pre><code>## [1] 25  3</code></pre>
<pre class="r"><code>head(simE) #notice 3 columns, including presence/absence of edge</code></pre>
<pre><code>##   Var1 Var2 Edge
## 1    a    a    1
## 2    b    a    0
## 3    c    a    0
## 4    d    a    1
## 5    e    a    1
## 6    a    b    0</code></pre>
<p>Now, let’s make this a true Edgelist, by removing rows where there is not an edge (i.e., value == 0)</p>
<pre class="r"><code>simE &lt;- simE[!simE$Edge == 0 &amp; !simE$Var1 == simE$Var2, 1:2] #Only include edges that have a value, and that aren&#39;t loops, only show Columns 1 and 2
head(simE)</code></pre>
<pre><code>##    Var1 Var2
## 4     d    a
## 5     e    a
## 9     d    b
## 11    a    c
## 12    b    c
## 14    d    c</code></pre>
</div>
<div id="edgelist-using-real-data" class="section level2">
<h2>Edgelist: using real data</h2>
<p>Let’s load in an edgelist - but first, let’s check out what it looks like in Excel.</p>
<pre class="r"><code>aa &lt;- read.csv(&quot;actor-actor_edgelist.csv&quot;)
head(aa)</code></pre>
<pre><code>##   send receive
## 1  OEC     AGC
## 2  OEC     AAO
## 3  OEC      AZ
## 4  OEC   Au-OH
## 5  OEC      AA
## 6  OEC     BSC</code></pre>
<pre class="r"><code>aa$send &lt;- paste0(&quot;a_&quot;, aa$send)
aa$receive &lt;- paste0(&quot;a_&quot;, aa$receive)</code></pre>
<p>Let’s inspect the data, then fix node names, which will help with future analyses.</p>
<pre class="r"><code>class(aa)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code>aa &lt;- as.matrix(aa)
dim(aa)</code></pre>
<pre><code>## [1] 2670    2</code></pre>
<pre class="r"><code>head(aa)</code></pre>
<pre><code>##      send    receive  
## [1,] &quot;a_OEC&quot; &quot;a_AGC&quot;  
## [2,] &quot;a_OEC&quot; &quot;a_AAO&quot;  
## [3,] &quot;a_OEC&quot; &quot;a_AZ&quot;   
## [4,] &quot;a_OEC&quot; &quot;a_Au-OH&quot;
## [5,] &quot;a_OEC&quot; &quot;a_AA&quot;   
## [6,] &quot;a_OEC&quot; &quot;a_BSC&quot;</code></pre>
</div>
</div>
<div id="network-objects-in-igraph" class="section level1">
<h1>Network objects in <code>igraph</code></h1>
<p>Now we will turn these data structures into <code>igraph</code> network objects. First, install and load the <code>igraph</code> package.</p>
<p>First let’s create some attributes for our <code>3</code> node network. They don’t need to be fancy; just some sizes and colors.</p>
<pre class="r"><code>att &lt;- data.frame(
    name = c(&quot;i&quot;,&quot;j&quot;,&quot;k&quot;), 
    size = c(20,27,34),
    color = c(&#39;tomato&#39;, 
              &#39;cornflowerblue&#39;, 
              &#39;darkorchid&#39;)
)
att</code></pre>
<pre><code>##   name size          color
## 1    i   20         tomato
## 2    j   27 cornflowerblue
## 3    k   34     darkorchid</code></pre>
<div id="matrix-conversion-to-network" class="section level2">
<h2>Matrix conversion to network</h2>
<p>To create a network object using a matrix, we use the <code>graph.adjacency</code> function. In graph theory, relational matrices are often referred to as adjacency matrices. Use the <code>M</code> matrix that we created before.</p>
<pre class="r"><code>M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 0 0
## k 1 0 0</code></pre>
<pre class="r"><code>class(M)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<pre class="r"><code>gM &lt;- graph.adjacency(M)
class(gM)</code></pre>
<pre><code>## [1] &quot;igraph&quot;</code></pre>
<pre class="r"><code>gM</code></pre>
<pre><code>## IGRAPH b9a7dd1 DN-- 3 3 -- 
## + attr: name (v/c)
## + edges from b9a7dd1 (vertex names):
## [1] i-&gt;j i-&gt;k k-&gt;i</code></pre>
<p>When we call the object, we receive a summary of the network. <code>DN</code> means this is a <em>directed network</em> with <code>3</code> nodes and <code>3</code> edges. There is just one attributes, the <code>name</code> of the vertices. We can tell that this is a categorical vertex attribute by the notation <code>(v/c)</code>. The edges are listed at the bottom.</p>
<p>Now, let’s manually add vertex attributes to the network <code>gM</code> from out <code>att</code> data frame.</p>
<pre class="r"><code>gM &lt;- set_vertex_attr(gM, name = &#39;size&#39;, value = att$size)
gM &lt;- set_vertex_attr(gM, name = &#39;color&#39;, value = att$color)
gM</code></pre>
<pre><code>## IGRAPH b9a7dd1 DN-- 3 3 -- 
## + attr: name (v/c), size (v/n), color (v/c)
## + edges from b9a7dd1 (vertex names):
## [1] i-&gt;j i-&gt;k k-&gt;i</code></pre>
</div>
<div id="edgelist-conversion-to-network" class="section level2">
<h2>Edgelist conversion to network</h2>
<p>To create an object using an edgelist, we use the <code>graph.data.frame</code> function. Using edgelists is nice because you can add the vertex attribute table in directly.</p>
<pre class="r"><code>E</code></pre>
<pre><code>##      Sender Receiver
## [1,] &quot;i&quot;    &quot;k&quot;     
## [2,] &quot;j&quot;    &quot;j&quot;     
## [3,] &quot;k&quot;    &quot;i&quot;</code></pre>
<pre class="r"><code>class(E)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<pre class="r"><code>gE &lt;- graph.data.frame(E)

#Add in the attributes
gE &lt;- set_vertex_attr(gM, name = &#39;size&#39;, value = att$size)
gE &lt;- set_vertex_attr(gM, name = &#39;color&#39;, value = att$color)

#Or, with one line of code to add attributes while we make igraph object:
gE &lt;- graph.data.frame(E, vertices = att)
gE</code></pre>
<pre><code>## IGRAPH b9b8271 DN-- 3 3 -- 
## + attr: name (v/c), size (v/n), color (v/c)
## + edges from b9b8271 (vertex names):
## [1] i-&gt;k j-&gt;j k-&gt;i</code></pre>
<pre class="r"><code>class(gE)</code></pre>
<pre><code>## [1] &quot;igraph&quot;</code></pre>
<p>Once you have an <code>igraph</code> network object, you can extract vertex and edge attributes.</p>
<pre class="r"><code>V(gE)$color</code></pre>
<pre><code>## [1] &quot;tomato&quot;         &quot;cornflowerblue&quot; &quot;darkorchid&quot;</code></pre>
<pre class="r"><code>V(gE)$size</code></pre>
<pre><code>## [1] 20 27 34</code></pre>
<p>We don’t have any edge attributes in this network, but if we did, we would use <code>E(object)$attr</code> syntax.</p>
</div>
<div id="visualize-igraph-objects" class="section level2">
<h2>Visualize <code>igraph</code> objects</h2>
<p>There are many aesthetic properties of network graph. But you can generally think of them as <strong>vertex</strong> (or node) aesthetics, <strong>edge</strong> aesthetics, and <strong>network</strong> aesthetics. To learn more about all of the ways to specify these in <code>igraph</code>, called <code>??igraph.plotting</code>.</p>
<p>Let’s visualize our objects <code>gE</code> and <code>gM</code>. Here is a generic plot.</p>
<pre class="r"><code>plot(gE)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<pre class="r"><code>plot(gM)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-26-2.png" width="672" /></p>
<p>By default, <code>igraph</code> labels each node with the <code>$name</code> attribute, and, if they exist, it will choose the sizes and colors using the <code>$color</code> and <code>$size</code> attributes. Since we set <code>size</code> and <code>color</code> in our <code>att</code> data frame, we replaced the defaults. But we can easily override them.</p>
<pre class="r"><code>plot(gE, 
     vertex.color = &#39;#2a00fa&#39;, 
     vertex.size = 30)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Let’s also change the color of the label to make it easier to read, change the edge colors to black, and make the arrow heads a bit smaller.</p>
<pre class="r"><code>plot(gE, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 30,
     vertex.label.color = &#39;white&#39;, 
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.681)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>Finally, let’s set the layout to <code>layout.circle</code> and add some curve to the edges.</p>
<pre class="r"><code>plot(gE, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 30,
     vertex.label.color = &#39;white&#39;, 
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.681, 
     edge.curved = 0.1,
     layout = layout.circle)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
<div id="network-objects-in-statnet" class="section level2">
<h2>Network objects in <code>statnet</code></h2>
<p>Create network objects in <code>statnet</code> is pretty intuitive. First, install and load the <code>statnet</code> suite of packages.</p>
<p>To create network objects, use the <code>network</code> function. When using an edgelist, tell the function you are using one in the <code>matrix.type</code> parameter.</p>
<pre class="r"><code>library(statnet)</code></pre>
<pre><code>## Loading required package: tergm</code></pre>
<pre><code>## Warning: package &#39;tergm&#39; was built under R version 4.1.3</code></pre>
<pre><code>## Loading required package: ergm</code></pre>
<pre><code>## Loading required package: network</code></pre>
<pre><code>## 
## &#39;network&#39; 1.17.1 (2021-06-12), part of the Statnet Project
## * &#39;news(package=&quot;network&quot;)&#39; for changes since last version
## * &#39;citation(&quot;network&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## 
## Attaching package: &#39;network&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:igraph&#39;:
## 
##     %c%, %s%, add.edges, add.vertices, delete.edges, delete.vertices,
##     get.edge.attribute, get.edges, get.vertex.attribute, is.bipartite,
##     is.directed, list.edge.attributes, list.vertex.attributes,
##     set.edge.attribute, set.vertex.attribute</code></pre>
<pre><code>## 
## &#39;ergm&#39; 4.1.2 (2021-07-26), part of the Statnet Project
## * &#39;news(package=&quot;ergm&quot;)&#39; for changes since last version
## * &#39;citation(&quot;ergm&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## &#39;ergm&#39; 4 is a major update that introduces some backwards-incompatible
## changes. Please type &#39;news(package=&quot;ergm&quot;)&#39; for a list of major
## changes.</code></pre>
<pre><code>## Loading required package: networkDynamic</code></pre>
<pre><code>## 
## &#39;networkDynamic&#39; 0.11.0 (2021-06-12), part of the Statnet Project
## * &#39;news(package=&quot;networkDynamic&quot;)&#39; for changes since last version
## * &#39;citation(&quot;networkDynamic&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;tergm&#39;:
##   method                   from
##   simulate_formula.network ergm</code></pre>
<pre><code>## 
## &#39;tergm&#39; 4.0.2 (2021-07-28), part of the Statnet Project
## * &#39;news(package=&quot;tergm&quot;)&#39; for changes since last version
## * &#39;citation(&quot;tergm&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## 
## Attaching package: &#39;tergm&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ergm&#39;:
## 
##     snctrl</code></pre>
<pre><code>## Loading required package: ergm.count</code></pre>
<pre><code>## 
## &#39;ergm.count&#39; 4.0.2 (2021-06-18), part of the Statnet Project
## * &#39;news(package=&quot;ergm.count&quot;)&#39; for changes since last version
## * &#39;citation(&quot;ergm.count&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## Loading required package: sna</code></pre>
<pre><code>## Loading required package: statnet.common</code></pre>
<pre><code>## 
## Attaching package: &#39;statnet.common&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ergm&#39;:
## 
##     snctrl</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     attr, order</code></pre>
<pre><code>## sna: Tools for Social Network Analysis
## Version 2.6 created on 2020-10-5.
## copyright (c) 2005, Carter T. Butts, University of California-Irvine
##  For citation information, type citation(&quot;sna&quot;).
##  Type help(package=&quot;sna&quot;) to get started.</code></pre>
<pre><code>## 
## Attaching package: &#39;sna&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:igraph&#39;:
## 
##     betweenness, bonpow, closeness, components, degree, dyad.census,
##     evcent, hierarchy, is.connected, neighborhood, triad.census</code></pre>
<pre><code>## Loading required package: tsna</code></pre>
<pre><code>## Warning: package &#39;tsna&#39; was built under R version 4.1.3</code></pre>
<pre><code>## 
## &#39;statnet&#39; 2019.6 (2019-06-13), part of the Statnet Project
## * &#39;news(package=&quot;statnet&quot;)&#39; for changes since last version
## * &#39;citation(&quot;statnet&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## unable to reach CRAN</code></pre>
<pre class="r"><code>M</code></pre>
<pre><code>##   i j k
## i 0 1 1
## j 0 0 0
## k 1 0 0</code></pre>
<pre class="r"><code>E</code></pre>
<pre><code>##      Sender Receiver
## [1,] &quot;i&quot;    &quot;k&quot;     
## [2,] &quot;j&quot;    &quot;j&quot;     
## [3,] &quot;k&quot;    &quot;i&quot;</code></pre>
<pre class="r"><code>att</code></pre>
<pre><code>##   name size          color
## 1    i   20         tomato
## 2    j   27 cornflowerblue
## 3    k   34     darkorchid</code></pre>
<pre class="r"><code>netM &lt;- network(M, vertex.attr = att)
netE &lt;- network(E, vertex.attr = att, 
                matrix.type = &quot;edgelist&quot; )
netM</code></pre>
<pre><code>##  Network attributes:
##   vertices = 3 
##   directed = TRUE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 3 
##     missing edges= 0 
##     non-missing edges= 3 
## 
##  Vertex attribute names: 
##     color name size vertex.names 
## 
## No edge attributes</code></pre>
<pre class="r"><code>netE</code></pre>
<pre><code>##  Network attributes:
##   vertices = 3 
##   directed = TRUE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 2 
##     missing edges= 0 
##     non-missing edges= 2 
## 
##  Vertex attribute names: 
##     color name size vertex.names 
## 
## No edge attributes</code></pre>
<pre class="r"><code>c(class(netM), class(netE))</code></pre>
<pre><code>## [1] &quot;network&quot; &quot;network&quot;</code></pre>
<p>Like the <code>igraph</code> object, when we call the <code>network</code> object, we get a summary of some important network details.</p>
<p>To extract variables from the <code>network</code> object, we use one of three operators:</p>
<ul>
<li><code>%v%</code> – extract vertex attributes</li>
<li><code>%e%</code> – extract edge attributes</li>
<li><code>%n%</code> – extract network attributes</li>
</ul>
<p>For example, we can see the values for color by extracting the attribute from the network by calling the network object, the appropriate operator, and the name of the attribute.</p>
<pre class="r"><code>netE %v% &#39;color&#39;</code></pre>
<pre><code>## [1] &quot;tomato&quot;         &quot;cornflowerblue&quot; &quot;darkorchid&quot;</code></pre>
</div>
<div id="convert-real-data-to-igraph-and-network-objects" class="section level2">
<h2>Convert real data to <code>igraph</code> and <code>network</code> objects</h2>
<div id="igraph-conversion" class="section level3">
<h3>igraph conversion</h3>
<pre class="r"><code>aa_igraph &lt;- graph.data.frame(aa)
class(aa_igraph)</code></pre>
<pre><code>## [1] &quot;igraph&quot;</code></pre>
<pre class="r"><code>plot(aa_igraph)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<pre class="r"><code>dim(aa)</code></pre>
<pre><code>## [1] 2670    2</code></pre>
<p>Let’s plot the full network.</p>
<pre class="r"><code>plot(aa_igraph)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<pre class="r"><code>#messy!</code></pre>
<p>Let’s change some plot arguments to improve our graph.</p>
<pre class="r"><code>plot(aa_igraph, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 3,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Or, we can just look at a subset of the network.</p>
<pre class="r"><code>aa_shortened &lt;- aa[1:100,]
dim(aa_shortened)</code></pre>
<pre><code>## [1] 100   2</code></pre>
<pre class="r"><code>aa_igraph_shortened &lt;- graph.data.frame(aa_shortened)</code></pre>
<p>Let’s plot this new, shortened network using igraph.</p>
<pre class="r"><code>plot(aa_igraph_shortened, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>What about plotting our issue network?</p>
<pre class="r"><code>issuenet</code></pre>
<pre><code>##                   i_ï..AirQuality i_Forests i_GreenInfrast i_HabitatLoss
## i_ï..AirQuality             0.000     0.500          0.216         0.433
## i_Forests                   0.650     0.000          0.183         0.783
## i_GreenInfrast              0.400     0.233          0.000         0.483
## i_HabitatLoss               0.633     0.908          0.375         0.000
## i_Health                    0.233     0.217          0.142         0.183
## i_Invasives                 0.133     0.950          0.467         0.883
## i_LandUse                   0.650     0.900          0.475         0.925
## i_Nutrients                 0.217     0.358          0.483         0.590
## i_Pests.Path                0.250     0.883          0.267         0.883
## i_Recreation                0.733     0.850          0.458         0.833
## i_RestorNatSyst             0.325     0.683          0.617         0.750
## i_RisingTemps               0.583     0.650          0.325         0.633
## i_SoilErosion               0.675     0.625          0.608         0.650
## i_StormWater                0.117     0.650          0.792         0.667
## i_Transportation            0.950     0.583          0.533         0.800
## i_TreeManagement            0.650     0.542          0.742         0.800
## i_VulnerableComms           0.267     0.467          0.192         0.350
## i_WarmSeason                0.700     0.833          0.692         0.817
## i_WaterQuality              0.083     0.217          0.358         0.758
##                   i_Health i_Invasives i_LandUse i_Nutrients i_Pests.Path
## i_ï..AirQuality      0.950       0.167     0.475       0.166        0.400
## i_Forests            0.850       0.700     0.467       0.650        0.750
## i_GreenInfrast       0.767       0.400     0.350       0.642        0.267
## i_HabitatLoss        0.767       0.833     0.425       0.483        0.325
## i_Health             0.000       0.050     0.383       0.092        0.233
## i_Invasives          0.383       0.000     0.483       0.550        0.842
## i_LandUse            0.750       0.808     0.000       0.667        0.583
## i_Nutrients          0.783       0.450     0.450       0.000        0.458
## i_Pests.Path         0.833       0.658     0.483       0.427        0.000
## i_Recreation         0.867       0.808     0.725       0.542        0.767
## i_RestorNatSyst      0.708       0.817     0.842       0.600        0.750
## i_RisingTemps        0.700       0.650     0.350       0.490        0.800
## i_SoilErosion        0.583       0.783     0.592       0.825        0.425
## i_StormWater         0.817       0.733     0.633       0.792        0.425
## i_Transportation     0.792       0.700     0.917       0.258        0.600
## i_TreeManagement     0.900       0.933     0.583       0.367        0.817
## i_VulnerableComms    0.867       0.350     0.342       0.517        0.433
## i_WarmSeason         0.900       0.825     0.675       0.842        0.950
## i_WaterQuality       1.000       0.567     0.517       0.483        0.550
##                   i_Recreation i_RestorNatSyst i_RisingTemps i_SoilErosion
## i_ï..AirQuality          0.533           0.150         0.600         0.200
## i_Forests                0.950           0.583         0.550         0.808
## i_GreenInfrast           0.658           0.467         0.258         0.692
## i_HabitatLoss            0.933           0.717         0.342         0.750
## i_Health                 0.625           0.200         0.167         0.150
## i_Invasives              0.883           0.817         0.117         0.575
## i_LandUse                0.767           0.683         0.533         0.867
## i_Nutrients              0.658           0.533         0.210         0.667
## i_Pests.Path             0.817           0.567         0.300         0.342
## i_Recreation             0.000           0.800         0.267         0.683
## i_RestorNatSyst          0.683           0.000         0.342         0.792
## i_RisingTemps            0.508           0.300         0.000         0.333
## i_SoilErosion            0.533           0.567         0.258         0.000
## i_StormWater             0.733           0.600         0.100         0.975
## i_Transportation         0.583           0.583         0.642         0.600
## i_TreeManagement         0.883           0.667         0.558         0.658
## i_VulnerableComms        0.250           0.383         0.150         0.483
## i_WarmSeason             0.850           0.525         0.633         0.867
## i_WaterQuality           0.600           0.600         0.017         0.300
##                   i_StormWater i_Transportation i_TreeManagement
## i_ï..AirQuality          0.133            0.383            0.375
## i_Forests                0.817            0.300            0.367
## i_GreenInfrast           0.892            0.517            0.692
## i_HabitatLoss            0.700            0.300            0.500
## i_Health                 0.133            0.492            0.208
## i_Invasives              0.667            0.475            0.733
## i_LandUse                0.917            0.867            0.800
## i_Nutrients              0.533            0.217            0.400
## i_Pests.Path             0.275            0.317            0.933
## i_Recreation             0.850            0.542            0.883
## i_RestorNatSyst          0.833            0.350            0.733
## i_RisingTemps            0.583            0.217            0.683
## i_SoilErosion            0.908            0.542            0.567
## i_StormWater             0.000            0.592            0.733
## i_Transportation         0.742            0.000            0.692
## i_TreeManagement         0.833            0.400            0.000
## i_VulnerableComms        0.500            0.483            0.575
## i_WarmSeason             0.833            0.658            0.867
## i_WaterQuality           0.300            0.233            0.000
##                   i_VulnerableComms i_WarmSeason i_WaterQuality
## i_ï..AirQuality               0.816        0.250          0.316
## i_Forests                     0.417        0.675          0.850
## i_GreenInfrast                0.533        0.408          0.825
## i_HabitatLoss                 0.583        0.425          0.717
## i_Health                      0.500        0.183          0.267
## i_Invasives                   0.300        0.283          0.617
## i_LandUse                     0.783        0.500          0.933
## i_Nutrients                   0.675        0.250          0.950
## i_Pests.Path                  0.717        0.083          0.750
## i_Recreation                  0.617        0.383          0.833
## i_RestorNatSyst               0.542        0.558          0.917
## i_RisingTemps                 0.733        0.900          0.583
## i_SoilErosion                 0.733        0.279          0.967
## i_StormWater                  0.750        0.133          0.933
## i_Transportation              0.750        0.633          0.642
## i_TreeManagement              0.758        0.542          0.767
## i_VulnerableComms             0.000        0.233          0.467
## i_WarmSeason                  0.883        0.000          0.867
## i_WaterQuality                0.783        0.050          0.000</code></pre>
<pre class="r"><code>class(issuenet)</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<pre class="r"><code>gissuenet &lt;- graph.adjacency(issuenet, weighted = T)
plot(gissuenet, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1, 
     edge.width=edge.betweenness(gissuenet)/10)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<pre class="r"><code>par(mfrow=c(2,2)) 
plota &lt;- plot(gissuenet, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1, 
     edge.width=edge.betweenness(gissuenet)/10,
     layout=layout.circle,
     main=&quot;circle&quot;)
plotb &lt;- plot(gissuenet, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1, 
     edge.width=edge.betweenness(gissuenet)/10,
     layout=layout.sphere,
     main=&quot;sphere&quot;)
plotc &lt;- plot(gissuenet, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1, 
     edge.width=edge.betweenness(gissuenet)/10,
     layout=layout.random,
     main=&quot;random&quot;)
plotd &lt;- plot(gissuenet, 
     vertex.color = &#39;#2a00fa&#39;,
     vertex.size = 7,
     vertex.label = &quot;&quot;,
     edge.color = &#39;black&#39;,
     edge.arrow.size = 0.02, 
     edge.curved = 0.1, 
     edge.width=edge.betweenness(gissuenet)/10,
     layout=layout.fruchterman.reingold,
     main=&quot;fruchterman.reingold&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
</div>
</div>
</div>
